<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Installation of CeGCC on Linux</title>
<img src="images/banner1.png" alt="CeGCC cross compiler for PocketPC">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>
<body>
<H1>Installation of a binary release of CeGCC for Linux</H1>
<p>
The CeGCC Linux distributions are binary-only, and packaged as RPMs.
<p>
The sources of CeGCC are also available, but they're big.
We believe that those who want to build from source are
probably the same people who will want to keep up to date,
so they will not mind accessing our SVN source repository.
<p>
Also, earlier (pre-)releases of CeGCC for Linux were packaged in another way.
They're ancient, we recommend not using them any more.
<h2>What's in the RPM ?</h2>
<p>
The bottom line : the RPM contains all the tools you need to cross-develop
applications.
<p>
The detail :
it contains a set of executables, include files, and libraries that can be
used on a Linux PC (Intel architecture) to build applications that'll run
on a Windows CE platform with an ARM (aka Intel Xscale) processor.
In my case, the Linux platform is Mandriva 2006.0,
the PC is a no brand Pentium IV (assembled it myself),
and the PDA is a Mio 168 running Windows CE 4.20.0.
The Mio's processor is an Intel PXA 255.
<h2>Feedback</h2>
<p>
Feedback about this software should be sent to the CeGCC mailing list at
<a href="mailto:cegcc-devel@lists.SourceForge.net">cegcc-devel@lists.sourceforge.net</a>.
Questions, bug reports, .. should be addressed to that same address.
<p>
<h2>Installing the RPM</h2>
<p>
You can install the CeGCC RPM just like any other one,
by using the
<pre>
	rpm -i cegcc-0.09-2.i586.rpm
</pre>
command.
For unknown reasons, the RPM sometimes asks for the <i>libiconv</i> to be installed
first. A workaround is to use the --nodeps option :
<pre>
	rpm -i --nodeps cegcc-0.09-2.i586.rpm
</pre>
<p>
After a successful installation, all of CeGCC can be found under the
<i>/usr/ppc</i> directory tree.
<h2>How do you use the release ?</h2>
<p>
To start using CeGCC, you'll have to put
the directory <i>/usr/ppc/bin</i> in your path, e.g. like this :
<pre>
	export PATH=$PATH:/usr/ppc/bin
</pre>
<p>
To make this permanent, you'll want to apply such a change to your login environment,
e.g. in the file <i>$HOME/.bashrc</i> .
<p>
Then, you can test the compiler by trying to compile
<a href="docs/examples/fibo.c">fibo.c</a> :
<pre>
	#include &lt;windows.h&gt;
	#include &lt;stdio.h&gt;
	#include &lt;stdlib.h&gt;

	#define	FN	"/storage card/devel/fibo.txt"

	int fibo(int n)
	{
		if (n &lt; 3)
			return 1;
		return fibo(n-1) + fibo(n-2);
	}

	int APIENTRY WinMain(HINSTANCE a,HINSTANCE b,LPWSTR c,int d)
	{
		FILE	*f;
		int	i, r;

		f = fopen(FN, "w");

		for (i=1; i&lt;20; i++) {
			r = fibo(i);
			fprintf(f, "fibo(%d) = %d\r\n", i, r);
		}
		fclose(f);
	}
</pre>
<p>
You may want to change the path where the program writes its output file
in case you don't have that directory structure on your PDA.
<p>
Compile the source by using either of these commands :
<pre><i>
	arm-wince-cegcc-gcc -o f.exe fibo.c
	arm-wince-cegcc-gcc -g -o fibo.exe fibo.c
</i></pre>
On my system, this produces this warning message :
<pre><i>
	fibo.c:16: warning: '__stdcall__' attribute directive ignored
</i></pre>
<p>
but the command successfully creates an executable file
<i>f.exe</i> which can be transferred and run on a Windows CE system.
You can download my version of
<a href="docs/examples/f.exe">f.exe</a>
or
<a href="docs/examples/fibo.exe">fibo.exe</a>
for comparison.
The latter is significantly larger because of the debugging information
included in the file (consequence of using the -g option).
</font>
<H2>Known problems</H2>
<P>
None that we care to mention here.
<!--
  
     Button row at the top of the page.
  
  -->
<table bgcolor="blue" border="6"> <tr>
	<td bgcolor="#CCCC00" > <font size="+2" color="#222200">
		<a href="http://cegcc.sf.net/docs/index.html">
			Documentation
		</a>
	</font> </td>
	<td bgcolor="#CCCC00" > <font size="+2" color="#222200">
			<a href="http://svn.sourceforge.net/cegcc">
			SVN Repository
		</a>
	</font> </td>
	<td bgcolor="#CCCC00" > <font size="+2" color="#222200">
			<a href="http://sf.net/projects/cegcc">
			Project page on SourceForge
		</a>
	</font> </td>
	<td bgcolor="#CCCC00" > <font size="+2" color="#222200">
			<a href="http://sf.net/project/showfiles.php?group_id=173455">
			Download
		</a>
	</font> </td>
	<td bgcolor="#CCCC00" > <font size="+2" color="#222200">
		<a href="docs/install-linux.html">
		       Installation on Linux
		</a>
	</font> </td>
</tr></table>
<!--

     End of the button row

  -->
</p>
</body>
</html>
